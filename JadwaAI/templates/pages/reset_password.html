{% extends "base.html" %}
{% load static i18n %}
{% block content %}

<div class="page">
  <section class="legal-page">
    <div class="legal-container" style="max-width:420px; margin:0 auto;">

      <div style="text-align:center; margin-bottom:34px;">
        <h2 style="margin-bottom:12px; color:#0b0f1a;">{% trans "Reset Password" %}</h2>
        <p style="margin-bottom:30px; color:#64748b;">{% trans "Create a new password for your account." %}</p>
      </div>

      <form method="post" class="contact-form" novalidate>
        {% csrf_token %}

        <!-- ✅ row 1 -->
        <div class="form-row {% if form.new_password1.errors %}is-error{% endif %}" style="margin-bottom:20px;">
          <label class="form-label">{% trans "New password" %}</label>

          <input
            type="password"
            name="new_password1"
            class="form-input"
            placeholder="{% trans 'Enter new password' %}"
            style="width:100%; padding:12px; border-radius:20px;"
          >

          {% if form.new_password1.errors %}
            <span class="form-error">{{ form.new_password1.errors.0 }}</span>
          {% endif %}
        </div>

        <!-- ✅ row 2 -->
        <div class="form-row {% if form.new_password2.errors %}is-error{% endif %}" style="margin-bottom:20px;">
          <label class="form-label">{% trans "Confirm password" %}</label>

          <input
            type="password"
            name="new_password2"
            class="form-input"
            placeholder="{% trans 'Confirm new password' %}"
            style="width:100%; padding:12px; border-radius:20px;"
          >

          {% if form.new_password2.errors %}
            <span class="form-error">{{ form.new_password2.errors.0 }}</span>
          {% endif %}
        </div>

        <button type="submit" class="btn btn-full" style="margin-top:12px; width:100%;">
          {% trans "Reset Password" %}
        </button>
      </form>

      <p style="margin-top:24px; text-align:center; color:#64748b;">
        {% trans "Remembered your password?" %}
        <a href="{% url 'login' %}" class="contact-link" style="color:#2563eb; text-decoration:none; font-weight:500;">
          {% trans "Login" %}
        </a>
      </p>

    </div>
  </section>
</div>

<style>
/* ✅ نفس ستايل اللوقن بالضبط */
.form-row.is-error .form-label{
  color:inherit !important;
}

.form-row.is-error input,
.form-row.is-error select,
.form-row.is-error textarea{
  border:1px solid #e7a6a6 !important;
  background:#fff;
  border-radius:20px;
  box-shadow:0 0 0 6px rgba(231,166,166,.12);
}

.form-error{
  margin-top:8px;
  font-size:14px;
  font-weight:500;
  color:#b42318;
  display:block;
}
</style>

{% endblock %}
