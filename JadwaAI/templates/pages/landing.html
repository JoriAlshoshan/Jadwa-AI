{% extends "base.html" %}
{% load static %}

{% block content %}

{% with lang=request.GET.lang|default:"en" %}
<div class="page {% if lang == 'ar' %}lang-ar{% else %}lang-en{% endif %}">

<nav class="nav">
  <div class="container nav-inner">

    <div class="nav-left">
      <a href="#home" class="brand" aria-label="Jadwa AI Home">
        <img src="{% static 'img/jadwa-logo.png' %}" class="brand-logo" alt="Jadwa AI">
      </a>
    </div>

    <div class="nav-right">
      <div class="links">
        <a href="#product">Product</a>
        <a href="#how">How it Works</a>
        <a href="#stories">Success Stories</a>
        <a href="#contact">Contact</a>
      </div>

      <div class="nav-actions" role="navigation" aria-label="Language and account">

        <!-- Language -->
        <a
          class="nav-lang"
          href="?lang={% if lang == 'ar' %}en{% else %}ar{% endif %}#home"
          aria-label="Change language"
        >
          {% if lang == 'ar' %}English{% else %}Ø¹Ø±Ø¨ÙŠ{% endif %}
        </a>

        <span class="nav-divider" aria-hidden="true"></span>

        <!-- Account icon ðŸ‘¤ (Account only) -->
        {% if user.is_authenticated %}
          <a href="{% url 'dashboard' %}" class="nav-icon" aria-label="Account">
        {% else %}
          <a href="/accounts/login/?next=/dashboard/" class="nav-icon" aria-label="Login">
        {% endif %}
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M20 21a8 8 0 1 0-16 0"
                    stroke="currentColor"
                    stroke-width="1.8"
                    stroke-linecap="round"/>
              <path d="M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z"
                    stroke="currentColor"
                    stroke-width="1.8"/>
            </svg>
          </a>

      </div>
    </div>

  </div>
</nav>


<section class="hero" id="home">
  <div class="hero-center-logo hero-overlay">
    <img src="{% static 'img/hero-title.png' %}" class="hero-title-img" alt="Jadwa AI">
  </div>

  <div class="container hero-content">
    <h1 class="hero-title">Business Feasibility Powered by AI</h1>
    <p class="hero-subtitle">Jadwa AI helps entrepreneurs evaluate business ideas using AI-powered feasibility insights.</p>

    <div class="hero-actions">
      {% if user.is_authenticated %}
        <!-- Start Analysis -> /projects/new/ -->
<a href="/projects/new/" class="btn">Start Feasibility Analysis</a>
      {% else %}
        <!-- Start Analysis -> login then back to /projects/new/ -->
        <a href="/accounts/login/?next=/projects/new/" class="btn">Start Feasibility Analysis</a>
      {% endif %}
    </div>
  </div>
</section>


<section class="product" id="product">
  <div class="container">
    <div class="section-head">
      <span class="badge">Product</span>
      <h2 class="section-title">What You Get with Jadwa AI</h2>
      <p class="section-desc">A professional feasibility experience designed for Saudi entrepreneurs.</p>
    </div>

    <div class="product-grid">
      <div class="product-card">
        <div class="icon">AI</div>
        <h3>Feasibility Decision</h3>
        <p>Get a clear feasibility status with a confidence score based on your inputs.</p>
      </div>

      <div class="product-card">
        <div class="icon">ML</div>
        <h3>ML Scoring Engine</h3>
        <p>Random Forest evaluates key signals like budget, region, duration, and indicators.</p>
      </div>

      <div class="product-card">
        <div class="icon">REC</div>
        <h3>Actionable Recommendations</h3>
        <p>Practical steps to reduce risk, refine the plan, and improve success chances.</p>
      </div>

      <div class="product-card">
        <div class="icon">PDF</div>
        <h3>Exportable Report</h3>
        <p>Download a clean report ready to share with partners and stakeholders.</p>
      </div>

      <div class="product-card">
        <div class="icon">DB</div>
        <h3>Saved Analyses</h3>
        <p>Track projects, revisit results, and compare feasibility outcomes over time.</p>
      </div>

      <div class="product-card">
        <div class="icon">KSA</div>
        <h3>Saudi Context</h3>
        <p>Built with Saudi market needs and decision-making flow in mind.</p>
      </div>
    </div>
  </div>
</section>


<section class="how" id="how">
  <div class="container">
    <div class="section-head">
      <span class="badge">How it works</span>
      <h2 class="section-title">How Jadwa AI Works</h2>
      <p class="section-desc">A clear, guided flow that turns your idea into a feasibility decision.</p>
    </div>

    <div class="how-steps">
      <article class="how-step">
        <div class="how-icon">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M8 3h8a2 2 0 0 1 2 2v14l-6-3-6 3V5a2 2 0 0 1 2-2Z" stroke="currentColor" stroke-width="1.8" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="how-meta">
          <div class="how-kicker">Step 01</div>
          <h3 class="how-step-title">Enter Project Details</h3>
          <p class="how-step-desc">Provide budget, region, duration, and project type in a structured form.</p>
        </div>
      </article>

      <article class="how-step">
        <div class="how-icon">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M4 19V5M4 19H20M7 16l3-4 3 2 4-6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M17.5 8.5H20V6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="how-meta">
          <div class="how-kicker">Step 02</div>
          <h3 class="how-step-title">Run AI Feasibility</h3>
          <p class="how-step-desc">We compute a feasibility score using ML + Saudi market indicators.</p>
        </div>
      </article>

      <article class="how-step">
        <div class="how-icon">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M7 3h10a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Z" stroke="currentColor" stroke-width="1.8"/>
            <path d="M8 8h8M8 12h8M8 16h6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="how-meta">
          <div class="how-kicker">Step 03</div>
          <h3 class="how-step-title">Get Insights & Report</h3>
          <p class="how-step-desc">Receive recommendations and export a clean PDF report for sharing.</p>
        </div>
      </article>
    </div>
  </div>
</section>


<section class="stories" id="stories">
  <div class="container">
    <div class="section-head">
      <span class="badge">Success stories</span>
      <h2 class="section-title">Saudi Success Stories</h2>
      <p class="section-desc">Examples of strong execution backed by smart feasibility decisions.</p>
    </div>

    <div class="stories-grid">
      <div class="story-card">
        <div class="story-logo">
          <img src="{% static 'img/tamara.jpg' %}" alt="Tamara">
        </div>
        <div class="story-content">
          <h3>Tamara</h3>
          <p>A Saudi fintech startup that validated demand early and scaled responsibly.</p>
          <span class="story-tag">FinTech Â· Scalable</span>
        </div>
      </div>

      <div class="story-card">
        <div class="story-logo">
          <img src="{% static 'img/jahez.jpg' %}" alt="Jahez">
        </div>
        <div class="story-content">
          <h3>Jahez</h3>
          <p>A local delivery platform that focused on operational feasibility and expanded step by step.</p>
          <span class="story-tag">Logistics Â· High Demand</span>
        </div>
      </div>

      <div class="story-card">
        <div class="story-logo">
          <img src="{% static 'img/stcpay.jpg' %}" alt="STC Pay">
        </div>
        <div class="story-content">
          <h3>STC Pay</h3>
          <p>A digital payments solution that grew by addressing user needs with strong readiness.</p>
          <span class="story-tag">Digital Payments Â· Trusted</span>
        </div>
      </div>
    </div>

    <div class="stories-cta">
      <a class="text-link" href="{% url 'success_stories' %}">View more success stories â†’</a>
    </div>
  </div>
</section>


<section class="contact" id="contact">
  <div class="container">
    <div class="contact-wrap">
      <div class="contact-left">
        <span class="badge">Contact</span>
        <h2 class="contact-title">Talk to the Team</h2>
        <p class="contact-sub">Have a question, partnership idea, or want a demo? Send us a message.</p>

        <div class="contact-meta">
          <a href="mailto:info@jadwa.ai" class="contact-link">info@jadwa.ai</a>
          <span class="dot">â€¢</span>
          <span>Saudi Arabia</span>
          <span class="dot">â€¢</span>
          <span>Reply within 24â€“48h</span>
        </div>
      </div>

      <div class="contact-right">
        <form class="contact-form" method="post" action="{% url 'contact_submit' %}" novalidate>
          {% csrf_token %}

          {% if messages %}
            {% for m in messages %}
              <div class="inline-msg {% if 'success' in m.tags %}inline-msg--success{% else %}inline-msg--error{% endif %}">
                {{ m }}
              </div>
            {% endfor %}
          {% endif %}

          <div class="form-row">
            <label class="form-label" for="name">Full name</label>
            <input class="form-input" id="name" name="name" type="text" placeholder="Your name" required>
            <small class="form-error">Full name is required.</small>
          </div>

          <div class="form-row">
            <label class="form-label" for="email">Email</label>
            <input class="form-input" id="email" name="email" type="email" placeholder="you@email.com" required>
            <small class="form-error">Please enter a valid email address.</small>
          </div>

          <div class="form-row">
            <label class="form-label" for="topic">Topic</label>
            <select class="form-input" id="topic" name="topic" required>
              <option value="" selected disabled>Select a topic</option>
              <option value="demo">Request a demo</option>
              <option value="support">Support</option>
              <option value="partnership">Partnership</option>
              <option value="other">Other</option>
            </select>
            <small class="form-error">Please select a topic.</small>
          </div>

          <div class="form-row">
            <label class="form-label" for="message">Message</label>
            <textarea class="form-input form-textarea" id="message" name="message" placeholder="Write your message..." required></textarea>
            <small class="form-error">Message is required.</small>
          </div>

          <button class="btn btn-full" type="submit">Send Message</button>
          <div class="form-note">By sending, you agree to be contacted back regarding your request.</div>
        </form>
      </div>
    </div>
  </div>
</section>


<footer class="footer-pro">
  <div class="container footer-pro-inner">

    <!-- Column 1 -->
    <div class="footer-col">
      <div class="footer-brand">
        <img src="{% static 'img/jadwa-logo.png' %}" alt="Jadwa AI">
      </div>
      <p class="footer-desc">
        Jadwa AI helps entrepreneurs evaluate business ideas using AI-powered feasibility insights.
      </p>
    </div>

    <!-- Column 2 -->
    <div class="footer-col">
      <div class="footer-title">Explore</div>
      <a href="#product">Product</a>
      <a href="#how">How it Works</a>
      <a href="#stories">Success Stories</a>
      <a href="#contact">Contact</a>
    </div>

    <!-- Column 3 -->
    <div class="footer-col">
      <div class="footer-title">Account</div>

      {% if user.is_authenticated %}
        <a href="{% url 'dashboard' %}">Dashboard</a>
      {% else %}
        <a href="/accounts/login/?next=/dashboard/">Login</a>
        <a href="{% url 'register' %}">Create Account</a>
      {% endif %}

      <!-- âœ… Ù‡Ù†Ø§ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµØ­ -->
      <a href="{% url 'privacy' %}">Privacy</a>
      <a href="{% url 'terms' %}">Terms</a>
    </div>

    <!-- Column 4 -->
    <div class="footer-col">
      <div class="footer-title">Contact</div>
      <a href="mailto:info@jadwa.ai" class="footer-meta footer-link">info@jadwa.ai</a>
      <div class="footer-meta">Saudi Arabia</div>
    </div>

  </div>

  <!-- Bottom -->
  <div class="container footer-bottom">
    <span>Â© 2026 Jadwa AI. All rights reserved.</span>
  </div>
</footer>


<script>
  document.addEventListener("DOMContentLoaded", () => {

    // Smooth anchor scroll
    document.querySelectorAll('a[href^="#"]').forEach((link) => {
      link.addEventListener("click", (e) => {
        const targetId = link.getAttribute("href");
        const target = document.querySelector(targetId);
        if (!target) return;
        e.preventDefault();
        target.scrollIntoView({ behavior: "smooth", block: "start" });
      });
    });

    // Stories animation
    const cards = document.querySelectorAll(".story-card");
    const io = new IntersectionObserver((entries) => {
      entries.forEach((e) => {
        if (e.isIntersecting) {
          e.target.classList.add("is-visible");
          io.unobserve(e.target);
        }
      });
    }, { threshold: 0.18 });
    cards.forEach((card) => io.observe(card));

    // Contact form validation
    const form = document.querySelector(".contact-form");
    if (!form) return;

    const showError = (row, input) => {
      row.classList.add("is-error");
      input.classList.add("is-error");
      const err = row.querySelector(".form-error");
      if (err) err.style.display = "block";
    };

    const clearError = (row, input) => {
      row.classList.remove("is-error");
      input.classList.remove("is-error");
      const err = row.querySelector(".form-error");
      if (err) err.style.display = "none";
    };

    const validateField = (input) => {
      const row = input.closest(".form-row");
      if (!row) return true;

      if (!input.checkValidity()) {
        showError(row, input);
        return false;
      }
      clearError(row, input);
      return true;
    };

    form.querySelectorAll(".form-input").forEach((input) => {
      input.addEventListener("change", () => validateField(input));
      input.addEventListener("blur", () => validateField(input));
    });

    form.addEventListener("submit", (e) => {
      let ok = true;
      form.querySelectorAll(".form-input").forEach((input) => {
        if (!validateField(input)) ok = false;
      });

      if (!ok) {
        e.preventDefault();
        const firstError = form.querySelector(".form-input.is-error");
        if (firstError) firstError.focus();
      }
    });

  });
</script>

</div>
{% endwith %}

{% endblock %}
